# Week05 Assignment 参考答案

## 1. 简述 shell 脚本中三个有特殊作用的字符

1. 管道 |

   管道可以将多个简单的命令连接起来，使一个命令的输出作为另外一个命令的输入，由此来实现更加复杂的功能。

2. 连接符 ；

   使用；连接符间隔的命令会按照先后次序依次执行。

3. 输入输出重定向 > <

   用来改变 Shell 获取信息和输出信息的方向。

4. \ 转义
5. $ 使用变量
6. \# 注释

## 2. Shell 脚本的变量有哪几类，各是什么情况下使用？

1. 局部变量

   又称本地变量，这些变量定义在脚本中，只在该脚本中生效。

2. 环境变量

   环境变量又称永久变量，与局部变量相对，用于创建变量的 Shell 和从该 Shell 派生的子 Shell 或进程中。

3. 位置变量

   位置变量即执行脚本时传入脚本中对应脚本位置的变量。

4. 标准变量

   标准变量也是环境变量，在 bash 环境建立时生成。

5. 特殊变量

   例如：

   ？ 前一个命令执行情况，0 表示成功，其他表示失败。

   ！ 运行脚本最后一个命令。

## 3. Shell 脚本分支语句有几类，各是什么情况下使用？

1. if 语句

   Shell 中的 if 条件语句分为：单分支 if 语句、双分支 if 语句进而多分支 if 语句，其结构大体与其他程序设计语言的条件语句相同。

2. select 语句

   Shell 中的 select 语句可以将选项列表做出类似目录的形式，以交互的形式选择列表中的数据，传入 select 语句中的主体部分加以执行。

3. case 语句

   case 语句可以将一个变量的内容与多个选项进行匹配，若匹配成功，则执行该条件下对应的语句。

## 4. Shell 脚本循环语句有几类，各是什么情况下使用？

1. for 循环

   对一个集合中的对象进行循环，并进行相应操作。

2. while 循环

   while 循环在表达式的值为假时停止循环，否则循环一直进行。

3. until 循环

   与 while 循环的格式基本相同，不过 until 循环是在表达式值为真时停止循环，否则循环一直进行。

## 5. 简述 shell 脚本的调试方法

1. 使用大量 echo 语句来打印显示程序内部执行情况。
2. 用 trap 命令捕获程序退出的信号并执行相应的动作，格式为 trap 操作 信号名。
3. sh 命令。`sh -n file.sh` 检查语法错误而不执行；`sh -v file.sh` 在执行 shell 程序中每一条命令前，显示该命令；`sh -x file.sh` 会打印每一条命令的结果。
4. tee: `tee` 会将输入分到 stdout 和输出文件中去，这个特性可以帮助为管道命令
5. 调试钩子: 本质就是用`if`语句来包裹调试信息，到了交付的时候设置`DEBUG`变量为`false`即可。
